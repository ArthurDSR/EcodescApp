"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1817],{1817:(h,p,n)=>{n.r(p),n.d(p,{EcopontoPageModule:()=>C});var u=n(2200),d=n(4341),s=n(9420),a=n(8132),m=n(467),t=n(3664),r=n(8728),g=n(4192),f=n(3665);function E(i,b){if(1&i){const o=t.RV6();t.j41(0,"ion-item-sliding",6)(1,"ion-item",7)(2,"div",8)(3,"span",9),t.EFF(4),t.k0s(),t.j41(5,"div",10)(6,"ion-button",11),t.bIt("click",function(){const c=r.eBV(o).$implicit,l=t.XpG();return r.Njj(l.editar(c))}),t.EFF(7,"Editar"),t.k0s(),t.j41(8,"ion-button",12),t.bIt("click",function(){const c=r.eBV(o).$implicit,l=t.XpG();return r.Njj(l.excluir(c))}),t.EFF(9,"Excluir"),t.k0s()()()()()}if(2&i){const o=b.$implicit;t.R7$(4),t.JRh(o.nome)}}const v=[{path:"",component:(()=>{class i{constructor(o,e,c,l){this.router=o,this.ecopontoService=e,this.toastController=c,this.alertController=l,this.ecopontos=[]}ngOnInit(){this.listar()}ionViewWillEnter(){console.log("ionViewWillEnter - Atualizando lista..."),this.listar()}listar(){this.ecopontoService.listarTodos().subscribe({next:o=>{this.ecopontos=o},error:o=>{this.exibirMensagem("Erro ao carregar os ecopontos.")}})}exibirMensagem(o){var e=this;return(0,m.A)(function*(){(yield e.toastController.create({message:o,duration:1500})).present()})()}adicionar(){this.router.navigate(["/add-ecoponto"])}editar(o){console.log("Ecoponto completo:",o),this.router.navigate(["/add-ecoponto",{id:o.id}])}excluir(o){this.alertController.create({header:"Confirma\xe7\xe3o",message:"Voc\xea tem certeza que deseja excluir este ecoponto?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Confirmar",handler:()=>{this.ecopontoService.excluir(o.id).subscribe({next:()=>{this.exibirMensagem("Ecoponto exclu\xeddo com sucesso."),this.listar()},error:e=>{this.exibirMensagem("Erro ao excluir ecoponto.")}})}}]}).then(e=>e.present())}static#t=this.\u0275fac=function(e){return new(e||i)(t.rXU(g.Ix),t.rXU(f.p),t.rXU(s.K_),t.rXU(s.hG))};static#o=this.\u0275cmp=t.VBU({type:i,selectors:[["app-ecoponto"]],standalone:!1,decls:7,vars:1,consts:[["color","transparent"],[1,"ion-padding"],[1,"add-button-container"],["expand","block",1,"add-button",3,"click"],[1,"item-list"],["class","item-sliding",4,"ngFor","ngForOf"],[1,"item-sliding"],[1,"item-item"],[1,"item-content"],[1,"item-name"],[1,"item-buttons"],["size","small",1,"edit-button",3,"click"],["size","small",1,"delete-button",3,"click"]],template:function(e,c){1&e&&(t.nrm(0,"ion-toolbar",0),t.j41(1,"ion-content",1)(2,"div",2)(3,"ion-button",3),t.bIt("click",function(){return c.adicionar()}),t.EFF(4," Adicionar "),t.k0s()(),t.j41(5,"ion-list",4),t.DNE(6,E,10,1,"ion-item-sliding",5),t.k0s()()),2&e&&(t.R7$(6),t.Y8G("ngForOf",c.ecopontos))},dependencies:[u.Sq,s.Jm,s.W9,s.uz,s.A7,s.nf,s.ai],encapsulation:2})}return i})()}];let x=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#o=this.\u0275mod=t.$C({type:i});static#i=this.\u0275inj=r.G2t({imports:[a.iI.forChild(v),a.iI]})}return i})(),C=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#o=this.\u0275mod=t.$C({type:i});static#i=this.\u0275inj=r.G2t({imports:[u.MD,d.YN,s.bv,x]})}return i})()},3665:(h,p,n)=>{n.d(p,{p:()=>s});var u=n(9330),d=n(8728);let s=(()=>{class a{constructor(t){this.httpClient=t,this.url="http://localhost:8080/api/v1/ecoponto"}salvar(t){return this.httpClient.post(this.url,t)}atualizar(t){return this.httpClient.put(this.url,t)}excluir(t){return this.httpClient.delete(this.url+"/"+t)}buscarPorId(t){return this.httpClient.get(this.url+"/"+t,this.getHttpOptions())}listarTodos(){return this.httpClient.get(this.url,this.getHttpOptions())}getHttpOptions(){return{headers:new u.Lr({})}}static#t=this.\u0275fac=function(r){return new(r||a)(d.KVO(u.Qq))};static#o=this.\u0275prov=d.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()}}]);